import random
import pandas as pd

# Read input data from CSV file
dataset = pd.read_csv('/Users/omarrizwan/Library/Containers/com.microsoft.Excel/Data/Downloads/worldpopulation.csv')
country = dataset.loc[0, "country"]
population = int(dataset.loc[0, 'population'])
infected = int(dataset.loc[0, 'infected'])
recovered = int(dataset.loc[0, 'recovered'])
duration = 14
prob_spread_without_epidemic = float(dataset.loc[0, 'prob_spread_without_epidemic'])
prob_spread_with_epidemic = float(dataset.loc[0, 'prob_spread_with_epidemic'])
epidemic = False

# Simulate the spread of the disease
for day in range(1, duration + 1):
    newly_infected = 0
    newly_recovered = 0

    # Calculate probability of spread based on whether there is an epidemic
    if epidemic:
        prob_spread = prob_spread_with_epidemic
    else:
        prob_spread = prob_spread_without_epidemic

    # Infect susceptible population
    for person in range(population - recovered):
        if random.random() < prob_spread:
            newly_infected += 1

    # Recover infected population
    for person in range(infected):
        if random.random() < 0.1:  # Assuming 10% chance of recovery per day
            newly_recovered += 1

    # Update population counts
    infected += newly_infected - newly_recovered
    recovered += newly_recovered

    # Check if epidemic has started
    if not epidemic and infected > 10:
        epidemic = True

    # Print daily statistics
    print(f"Day {day}: {infected} infected, {recovered} recovered in {country}")

    # End simulation if everyone is recovered or epidemic has subsided
    if infected == 0 or (epidemic and newly_infected == 0):
        break






